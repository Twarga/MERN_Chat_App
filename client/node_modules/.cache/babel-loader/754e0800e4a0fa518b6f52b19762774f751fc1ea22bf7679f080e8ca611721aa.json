{"ast":null,"code":"var _jsxFileName = \"/home/twarga/Documents/MERN/mern-chat-app/client/src/context/ChatContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer, useCallback, useEffect } from 'react';\nimport * as api from '../utils/api';\nimport socket from '../utils/socket';\n\n// Initial state\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  selectedChat: null,\n  chats: [],\n  notifications: [],\n  loading: false,\n  error: null\n};\n\n// Create context\nexport const ChatContext = /*#__PURE__*/createContext(initialState);\n\n// Action types\nconst SET_SELECTED_CHAT = 'SET_SELECTED_CHAT';\nconst SET_CHATS = 'SET_CHATS';\nconst ADD_CHAT = 'ADD_CHAT';\nconst UPDATE_CHAT = 'UPDATE_CHAT';\nconst ADD_NOTIFICATION = 'ADD_NOTIFICATION';\nconst REMOVE_NOTIFICATION = 'REMOVE_NOTIFICATION';\nconst CHAT_LOADING = 'CHAT_LOADING';\nconst CHAT_ERROR = 'CHAT_ERROR';\nconst CHAT_RESET = 'CHAT_RESET';\n\n// Reducer function\nconst chatReducer = (state, action) => {\n  switch (action.type) {\n    case SET_SELECTED_CHAT:\n      return {\n        ...state,\n        selectedChat: action.payload\n      };\n    case SET_CHATS:\n      return {\n        ...state,\n        chats: action.payload\n      };\n    case ADD_CHAT:\n      // Check if chat already exists to avoid duplicates\n      if (state.chats.some(c => c._id === action.payload._id)) {\n        return state;\n      }\n      return {\n        ...state,\n        chats: [action.payload, ...state.chats]\n      };\n    case UPDATE_CHAT:\n      return {\n        ...state,\n        chats: state.chats.map(c => c._id === action.payload._id ? action.payload : c)\n      };\n    case ADD_NOTIFICATION:\n      return {\n        ...state,\n        notifications: [action.payload, ...state.notifications]\n      };\n    case REMOVE_NOTIFICATION:\n      return {\n        ...state,\n        notifications: state.notifications.filter(n => n.chat._id !== action.payload)\n      };\n    case CHAT_LOADING:\n      return {\n        ...state,\n        loading: true\n      };\n    case CHAT_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case CHAT_RESET:\n      return {\n        ...state,\n        loading: false,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\n\n// Provider component\nexport const ChatProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(chatReducer, initialState);\n\n  // Listen for socket events\n  useEffect(() => {\n    // Handle new chat creation\n    socket.on('chat created', newChat => {\n      console.log('New chat received:', newChat);\n      dispatch({\n        type: ADD_CHAT,\n        payload: newChat\n      });\n    });\n\n    // Handle new group creation\n    socket.on('group created', newGroup => {\n      console.log('New group received:', newGroup);\n      dispatch({\n        type: ADD_CHAT,\n        payload: newGroup\n      });\n    });\n    return () => {\n      socket.off('chat created');\n      socket.off('group created');\n    };\n  }, []);\n\n  // Set selected chat\n  const setSelectedChat = useCallback(chat => {\n    dispatch({\n      type: SET_SELECTED_CHAT,\n      payload: chat\n    });\n  }, []);\n\n  // Fetch all chats\n  const fetchChats = useCallback(async token => {\n    try {\n      dispatch({\n        type: CHAT_LOADING\n      });\n      const data = await api.get('/api/chat', token);\n      dispatch({\n        type: SET_CHATS,\n        payload: data\n      });\n      dispatch({\n        type: CHAT_RESET\n      });\n      return data;\n    } catch (error) {\n      dispatch({\n        type: CHAT_ERROR,\n        payload: error.message\n      });\n      throw error;\n    }\n  }, []);\n\n  // Access or create a chat\n  const accessChat = useCallback(async (userId, token) => {\n    try {\n      dispatch({\n        type: CHAT_LOADING\n      });\n      const data = await api.post('/api/chat', {\n        userId\n      }, token);\n\n      // If the chat is not already in the list, add it\n      if (!state.chats.find(c => c._id === data._id)) {\n        dispatch({\n          type: ADD_CHAT,\n          payload: data\n        });\n\n        // Emit new chat event to socket\n        socket.emit('new chat', data);\n      }\n      setSelectedChat(data);\n      dispatch({\n        type: CHAT_RESET\n      });\n      return data;\n    } catch (error) {\n      dispatch({\n        type: CHAT_ERROR,\n        payload: error.message\n      });\n      throw error;\n    }\n  }, [state.chats, setSelectedChat]);\n\n  // Create a group chat\n  const createGroupChat = useCallback(async (users, name, token) => {\n    try {\n      dispatch({\n        type: CHAT_LOADING\n      });\n      const data = await api.post('/api/chat/group', {\n        users: JSON.stringify(users),\n        name\n      }, token);\n      dispatch({\n        type: ADD_CHAT,\n        payload: data\n      });\n\n      // Emit new group event to socket\n      socket.emit('new group', data);\n      dispatch({\n        type: CHAT_RESET\n      });\n      return data;\n    } catch (error) {\n      dispatch({\n        type: CHAT_ERROR,\n        payload: error.message\n      });\n      throw error;\n    }\n  }, []);\n\n  // Rename a group\n  const renameGroup = useCallback(async (chatId, chatName, token) => {\n    try {\n      var _state$selectedChat;\n      dispatch({\n        type: CHAT_LOADING\n      });\n      const data = await api.put('/api/chat/rename', {\n        chatId,\n        chatName\n      }, token);\n      dispatch({\n        type: UPDATE_CHAT,\n        payload: data\n      });\n\n      // If this is the selected chat, update it\n      if (((_state$selectedChat = state.selectedChat) === null || _state$selectedChat === void 0 ? void 0 : _state$selectedChat._id) === data._id) {\n        setSelectedChat(data);\n      }\n      dispatch({\n        type: CHAT_RESET\n      });\n      return data;\n    } catch (error) {\n      dispatch({\n        type: CHAT_ERROR,\n        payload: error.message\n      });\n      throw error;\n    }\n  }, [state.selectedChat, setSelectedChat]);\n\n  // Add user to group\n  const addToGroup = useCallback(async (chatId, userId, token) => {\n    try {\n      var _state$selectedChat2;\n      dispatch({\n        type: CHAT_LOADING\n      });\n      const data = await api.put('/api/chat/groupadd', {\n        chatId,\n        userId\n      }, token);\n      dispatch({\n        type: UPDATE_CHAT,\n        payload: data\n      });\n\n      // If this is the selected chat, update it\n      if (((_state$selectedChat2 = state.selectedChat) === null || _state$selectedChat2 === void 0 ? void 0 : _state$selectedChat2._id) === data._id) {\n        setSelectedChat(data);\n      }\n      dispatch({\n        type: CHAT_RESET\n      });\n      return data;\n    } catch (error) {\n      dispatch({\n        type: CHAT_ERROR,\n        payload: error.message\n      });\n      throw error;\n    }\n  }, [state.selectedChat, setSelectedChat]);\n\n  // Remove user from group\n  const removeFromGroup = useCallback(async (chatId, userId, token) => {\n    try {\n      var _state$selectedChat3;\n      dispatch({\n        type: CHAT_LOADING\n      });\n      const data = await api.put('/api/chat/groupremove', {\n        chatId,\n        userId\n      }, token);\n      dispatch({\n        type: UPDATE_CHAT,\n        payload: data\n      });\n\n      // If this is the selected chat, update it\n      if (((_state$selectedChat3 = state.selectedChat) === null || _state$selectedChat3 === void 0 ? void 0 : _state$selectedChat3._id) === data._id) {\n        setSelectedChat(data);\n      }\n      dispatch({\n        type: CHAT_RESET\n      });\n      return data;\n    } catch (error) {\n      dispatch({\n        type: CHAT_ERROR,\n        payload: error.message\n      });\n      throw error;\n    }\n  }, [state.selectedChat, setSelectedChat]);\n\n  // Add notification\n  const addNotification = useCallback(notification => {\n    dispatch({\n      type: ADD_NOTIFICATION,\n      payload: notification\n    });\n  }, []);\n\n  // Remove notification\n  const removeNotification = useCallback(chatId => {\n    dispatch({\n      type: REMOVE_NOTIFICATION,\n      payload: chatId\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ChatContext.Provider, {\n    value: {\n      selectedChat: state.selectedChat,\n      chats: state.chats,\n      notifications: state.notifications,\n      loading: state.loading,\n      error: state.error,\n      setSelectedChat,\n      fetchChats,\n      accessChat,\n      createGroupChat,\n      renameGroup,\n      addToGroup,\n      removeFromGroup,\n      addNotification,\n      removeNotification\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatProvider, \"3k1IgLjheuCwQcuWdDE244UDYq4=\");\n_c = ChatProvider;\nvar _c;\n$RefreshReg$(_c, \"ChatProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useCallback","useEffect","api","socket","jsxDEV","_jsxDEV","initialState","selectedChat","chats","notifications","loading","error","ChatContext","SET_SELECTED_CHAT","SET_CHATS","ADD_CHAT","UPDATE_CHAT","ADD_NOTIFICATION","REMOVE_NOTIFICATION","CHAT_LOADING","CHAT_ERROR","CHAT_RESET","chatReducer","state","action","type","payload","some","c","_id","map","filter","n","chat","ChatProvider","children","_s","dispatch","on","newChat","console","log","newGroup","off","setSelectedChat","fetchChats","token","data","get","message","accessChat","userId","post","find","emit","createGroupChat","users","name","JSON","stringify","renameGroup","chatId","chatName","_state$selectedChat","put","addToGroup","_state$selectedChat2","removeFromGroup","_state$selectedChat3","addNotification","notification","removeNotification","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/twarga/Documents/MERN/mern-chat-app/client/src/context/ChatContext.js"],"sourcesContent":["import React, { createContext, useReducer, useCallback, useEffect } from 'react';\nimport * as api from '../utils/api';\nimport socket from '../utils/socket';\n\n// Initial state\nconst initialState = {\n  selectedChat: null,\n  chats: [],\n  notifications: [],\n  loading: false,\n  error: null,\n};\n\n// Create context\nexport const ChatContext = createContext(initialState);\n\n// Action types\nconst SET_SELECTED_CHAT = 'SET_SELECTED_CHAT';\nconst SET_CHATS = 'SET_CHATS';\nconst ADD_CHAT = 'ADD_CHAT';\nconst UPDATE_CHAT = 'UPDATE_CHAT';\nconst ADD_NOTIFICATION = 'ADD_NOTIFICATION';\nconst REMOVE_NOTIFICATION = 'REMOVE_NOTIFICATION';\nconst CHAT_LOADING = 'CHAT_LOADING';\nconst CHAT_ERROR = 'CHAT_ERROR';\nconst CHAT_RESET = 'CHAT_RESET';\n\n// Reducer function\nconst chatReducer = (state, action) => {\n  switch (action.type) {\n    case SET_SELECTED_CHAT:\n      return { ...state, selectedChat: action.payload };\n    case SET_CHATS:\n      return { ...state, chats: action.payload };\n    case ADD_CHAT:\n      // Check if chat already exists to avoid duplicates\n      if (state.chats.some(c => c._id === action.payload._id)) {\n        return state;\n      }\n      return { ...state, chats: [action.payload, ...state.chats] };\n    case UPDATE_CHAT:\n      return {\n        ...state,\n        chats: state.chats.map((c) =>\n          c._id === action.payload._id ? action.payload : c\n        ),\n      };\n    case ADD_NOTIFICATION:\n      return {\n        ...state,\n        notifications: [action.payload, ...state.notifications],\n      };\n    case REMOVE_NOTIFICATION:\n      return {\n        ...state,\n        notifications: state.notifications.filter(\n          (n) => n.chat._id !== action.payload\n        ),\n      };\n    case CHAT_LOADING:\n      return { ...state, loading: true };\n    case CHAT_ERROR:\n      return { ...state, loading: false, error: action.payload };\n    case CHAT_RESET:\n      return { ...state, loading: false, error: null };\n    default:\n      return state;\n  }\n};\n\n// Provider component\nexport const ChatProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(chatReducer, initialState);\n\n  // Listen for socket events\n  useEffect(() => {\n    // Handle new chat creation\n    socket.on('chat created', (newChat) => {\n      console.log('New chat received:', newChat);\n      dispatch({ type: ADD_CHAT, payload: newChat });\n    });\n\n    // Handle new group creation\n    socket.on('group created', (newGroup) => {\n      console.log('New group received:', newGroup);\n      dispatch({ type: ADD_CHAT, payload: newGroup });\n    });\n\n    return () => {\n      socket.off('chat created');\n      socket.off('group created');\n    };\n  }, []);\n\n  // Set selected chat\n  const setSelectedChat = useCallback((chat) => {\n    dispatch({ type: SET_SELECTED_CHAT, payload: chat });\n  }, []);\n\n  // Fetch all chats\n  const fetchChats = useCallback(async (token) => {\n    try {\n      dispatch({ type: CHAT_LOADING });\n\n      const data = await api.get('/api/chat', token);\n\n      dispatch({ type: SET_CHATS, payload: data });\n      dispatch({ type: CHAT_RESET });\n      \n      return data;\n    } catch (error) {\n      dispatch({ type: CHAT_ERROR, payload: error.message });\n      throw error;\n    }\n  }, []);\n\n  // Access or create a chat\n  const accessChat = useCallback(async (userId, token) => {\n    try {\n      dispatch({ type: CHAT_LOADING });\n\n      const data = await api.post('/api/chat', { userId }, token);\n\n      // If the chat is not already in the list, add it\n      if (!state.chats.find((c) => c._id === data._id)) {\n        dispatch({ type: ADD_CHAT, payload: data });\n        \n        // Emit new chat event to socket\n        socket.emit('new chat', data);\n      }\n\n      setSelectedChat(data);\n      dispatch({ type: CHAT_RESET });\n      \n      return data;\n    } catch (error) {\n      dispatch({ type: CHAT_ERROR, payload: error.message });\n      throw error;\n    }\n  }, [state.chats, setSelectedChat]);\n\n  // Create a group chat\n  const createGroupChat = useCallback(async (users, name, token) => {\n    try {\n      dispatch({ type: CHAT_LOADING });\n\n      const data = await api.post(\n        '/api/chat/group',\n        { users: JSON.stringify(users), name },\n        token\n      );\n\n      dispatch({ type: ADD_CHAT, payload: data });\n      \n      // Emit new group event to socket\n      socket.emit('new group', data);\n      \n      dispatch({ type: CHAT_RESET });\n      \n      return data;\n    } catch (error) {\n      dispatch({ type: CHAT_ERROR, payload: error.message });\n      throw error;\n    }\n  }, []);\n\n  // Rename a group\n  const renameGroup = useCallback(async (chatId, chatName, token) => {\n    try {\n      dispatch({ type: CHAT_LOADING });\n\n      const data = await api.put(\n        '/api/chat/rename',\n        { chatId, chatName },\n        token\n      );\n\n      dispatch({ type: UPDATE_CHAT, payload: data });\n      \n      // If this is the selected chat, update it\n      if (state.selectedChat?._id === data._id) {\n        setSelectedChat(data);\n      }\n      \n      dispatch({ type: CHAT_RESET });\n      \n      return data;\n    } catch (error) {\n      dispatch({ type: CHAT_ERROR, payload: error.message });\n      throw error;\n    }\n  }, [state.selectedChat, setSelectedChat]);\n\n  // Add user to group\n  const addToGroup = useCallback(async (chatId, userId, token) => {\n    try {\n      dispatch({ type: CHAT_LOADING });\n\n      const data = await api.put(\n        '/api/chat/groupadd',\n        { chatId, userId },\n        token\n      );\n\n      dispatch({ type: UPDATE_CHAT, payload: data });\n      \n      // If this is the selected chat, update it\n      if (state.selectedChat?._id === data._id) {\n        setSelectedChat(data);\n      }\n      \n      dispatch({ type: CHAT_RESET });\n      \n      return data;\n    } catch (error) {\n      dispatch({ type: CHAT_ERROR, payload: error.message });\n      throw error;\n    }\n  }, [state.selectedChat, setSelectedChat]);\n\n  // Remove user from group\n  const removeFromGroup = useCallback(async (chatId, userId, token) => {\n    try {\n      dispatch({ type: CHAT_LOADING });\n\n      const data = await api.put(\n        '/api/chat/groupremove',\n        { chatId, userId },\n        token\n      );\n\n      dispatch({ type: UPDATE_CHAT, payload: data });\n      \n      // If this is the selected chat, update it\n      if (state.selectedChat?._id === data._id) {\n        setSelectedChat(data);\n      }\n      \n      dispatch({ type: CHAT_RESET });\n      \n      return data;\n    } catch (error) {\n      dispatch({ type: CHAT_ERROR, payload: error.message });\n      throw error;\n    }\n  }, [state.selectedChat, setSelectedChat]);\n\n  // Add notification\n  const addNotification = useCallback((notification) => {\n    dispatch({ type: ADD_NOTIFICATION, payload: notification });\n  }, []);\n\n  // Remove notification\n  const removeNotification = useCallback((chatId) => {\n    dispatch({ type: REMOVE_NOTIFICATION, payload: chatId });\n  }, []);\n\n  return (\n    <ChatContext.Provider\n      value={{\n        selectedChat: state.selectedChat,\n        chats: state.chats,\n        notifications: state.notifications,\n        loading: state.loading,\n        error: state.error,\n        setSelectedChat,\n        fetchChats,\n        accessChat,\n        createGroupChat,\n        renameGroup,\n        addToGroup,\n        removeFromGroup,\n        addNotification,\n        removeNotification,\n      }}\n    >\n      {children}\n    </ChatContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}